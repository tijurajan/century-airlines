# century-airlines
century-airlines-  Umbraco Backend &amp; Angular(2+) 7 Frontend

Project Structure

The project is separated into 3 abstract layers to maintain modularity and singularity of the application:
1.	CenturyAirline		- Umbraco backend instance source files
2.	CenturyAirline.Core	- Core business logic of the umbraco instance is separated into class              libray
3.	CenturyAirline.FED	- angular frontend project

Umbraco Membership
In the Umbraco backend, 2 member types are defined mainly:
1.	User		- Website users are associated to this Member group
2.	Admin		- Website admins are associated to this Member group
Content Restriction
Umbraco content restriction is implemented by page level access permissions and Umbraco web API Authorisations
Admin page (root) is accessible only for members belonging to group “Admin”
User-portal page is accessible only for members belonging to group “User” & “Admin”
Unauthenticated users will be redirected to Custom login page. This umbraco setup is as follows:
 
 

The custom Login page template post form to custom Umbraco Auth surface controller, which is an MVC controller that redirects users based on their roles.

The Admin Dashbord is rendered by Angular app as follows:
` 



 

Angular forms are posted to respective umbraco web api endpoints which performs CRUD operation on the documents. For example, Flight list can be gathered by the angular HTTP services API endpoint:
/umbraco/api/flightsdata/getflights

Documents are programmatically created in Umbraco from Angular form submits-
 

Frontend Build

This project uses Angular CLI version as below. Webpack is configured so that the scripts are bundled and copied to UmbracoCM/Scripts folder.
Angular CLI 
Angular CLI: 7.3.8
Node: 10.10.0
OS: win32 x64
Angular: 7.2.13
... animations, common, compiler, compiler-cli, core, forms
... language-service, platform-browser, platform-browser-dynamic
... router

Package                           					Version
---------------------------------------------------------------------------------------
•	@angular-devkit/architect         			0.13.8
•	@angular-devkit/build-angular     		0.13.8
•	@angular-devkit/build-optimizer   		0.13.8
•	@angular-devkit/build-webpack     		0.13.8
•	@angular-devkit/core             			7.3.8
•	@angular-devkit/schematics       		7.3.8
•	@angular/cli                      			7.3.8
•	@ngtools/webpack                  			7.3.8
•	@schematics/angular               			7.3.8
•	@schematics/update                			0.13.8
•	rxjs                              				6.3.3
•	typescript                        				3.2.4
•	webpack                           				4.29.0

webpack.config.js generated by the command 
ng eject


Forms
Forms use
Bootstrap 4 and jQuery from npm:

